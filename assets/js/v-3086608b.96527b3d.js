"use strict";(self.webpackChunkzcomposition=self.webpackChunkzcomposition||[]).push([[875],{3108:(n,t,s)=>{s.r(t),s.d(t,{data:()=>a});const a={key:"v-3086608b",path:"/composition/useFullscreen/",title:"useFullscreen",lang:"en-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"代码演示",slug:"代码演示",children:[{level:3,title:"基础使用",slug:"基础使用",children:[]},{level:3,title:"Api",slug:"api",children:[]},{level:3,title:"参数",slug:"参数",children:[]}]}],filePathRelative:"composition/useFullscreen/README.md",git:{updatedTime:1631805562e3,contributors:[{name:"Zhaoiii",email:"zdhzdhzdhzdhzdh@gmail.com",commits:1}]}}},1572:(n,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(6252),e=s(3577),l=s(2262),o=s(3261);const p=(0,a.uE)('<h1 id="usefullscreen" tabindex="-1"><a class="header-anchor" href="#usefullscreen" aria-hidden="true">#</a> useFullscreen</h1><p>将DOM进行全屏显示或关闭全屏显示</p><h2 id="代码演示" tabindex="-1"><a class="header-anchor" href="#代码演示" aria-hidden="true">#</a> 代码演示</h2><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code>\n<span class="token operator">&lt;</span>script setup lang<span class="token operator">=</span><span class="token string">&#39;ts&#39;</span><span class="token operator">&gt;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span>useFullscreen<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;zcomposition&quot;</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>\n\n<span class="token keyword">const</span> divRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">ref</span><span class="token generic class-name"><span class="token operator">&lt;</span>HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token punctuation">{</span> setFull<span class="token punctuation">,</span> exitFull<span class="token punctuation">,</span> toggleFull<span class="token punctuation">,</span> isFullscreen <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useFullscreen</span><span class="token punctuation">(</span>divRef<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token function-variable function">onExitFull</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;关闭了&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function-variable function">onFull</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;打开了&#39;</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>\n\n\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="基础使用" tabindex="-1"><a class="header-anchor" href="#基础使用" aria-hidden="true">#</a> 基础使用</h3>',5),c=(0,a._)("div",{style:{width:"200px",height:"200px",background:"pink"}},null,-1),i=(0,a.uE)('<h3 id="api" tabindex="-1"><a class="header-anchor" href="#api" aria-hidden="true">#</a> Api</h3><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>setFull</td><td>开启全屏</td><td><code>() =&gt; void</code></td><td>-</td></tr><tr><td>exitFull</td><td>退出全屏</td><td><code>() =&gt; void</code></td><td>-</td></tr><tr><td>toggleFull</td><td>切换全屏/退出全屏</td><td><code>() =&gt; void</code></td><td>-</td></tr><tr><td>isFullscreen</td><td>全屏状态</td><td>Ref(boolean)</td><td>false</td></tr></tbody></table><h3 id="参数" tabindex="-1"><a class="header-anchor" href="#参数" aria-hidden="true">#</a> 参数</h3><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>target</td><td>目标对象</td><td>`Ref&lt;HTMLElement</td><td>null&gt;</td></tr><tr><td>options</td><td>选项</td><td><code>Object</code></td><td>-</td></tr></tbody></table><h4 id="options" tabindex="-1"><a class="header-anchor" href="#options" aria-hidden="true">#</a> options</h4><table><thead><tr><th>参数</th><th>说明</th><th>类型</th><th>默认值</th></tr></thead><tbody><tr><td>onExitFull</td><td>退出全屏时回调函数</td><td><code>Function</code></td><td><code>() =&gt; {}</code></td></tr><tr><td>onFull</td><td>开启全屏时回调函数</td><td><code>Function</code></td><td><code>() =&gt; {}</code></td></tr></tbody></table>',6),u=(0,a.aZ)({setup(n){const t=(0,l.iH)(null),{setFull:s,exitFull:u,toggleFull:r,isFullscreen:d}=(0,o.O9)(t,{onExitFull:()=>{console.log("关闭了")},onFull:()=>{console.log("打开了")}});return(n,o)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[p,(0,a._)("div",null,[(0,a._)("div",{ref:(n,s)=>{s.divRef=n,t.value=n},style:{padding:"16px",background:"#fff"}},[c,(0,a._)("div",null," 是否全屏："+(0,e.zw)((0,l.SU)(d)),1),(0,a._)("div",null,[(0,a._)("button",{onClick:o[0]||(o[0]=(...n)=>(0,l.SU)(s)&&(0,l.SU)(s)(...n))},"setFull"),(0,a._)("button",{onClick:o[1]||(o[1]=(...n)=>(0,l.SU)(u)&&(0,l.SU)(u)(...n))},"exitFull"),(0,a._)("button",{onClick:o[2]||(o[2]=(...n)=>(0,l.SU)(r)&&(0,l.SU)(r)(...n))},"toggleFull")])],512)]),i],64))}})},3261:(n,t,s)=>{s.d(t,{cf:()=>o,O9:()=>k,QT:()=>p,tH:()=>r});var a=s(9669),e=s.n(a),l=s(2262);class o{static getInstance(){return o.instance||(o.instance=e()),o.instance}static setOption(n){Object.keys(n).forEach((t=>{o.getInstance().defaults[t]=n[t]}))}static setRequest(n,t){o.getInstance().interceptors.request.use(n,t)}static setResponse(n,t){o.getInstance().interceptors.response.use(n,t)}}const p=({url:n,method:t,body:s,headers:a})=>{const e=(0,l.iH)(null),p=(0,l.iH)(""),c=(0,l.iH)(!0);return o.getInstance()[t](n,s,{headers:a}).then((n=>{e.value=n.data})).catch((n=>{p.value=n})).finally((()=>{c.value=!1})),{error:p,loading:c,response:e}};var c=s(6252);function i(n){const t=(0,c.FN)();t.isMounted?n():(console.log(t),(0,c.bv)(n))}var u=s(6486);const r=(n,t)=>{const s=(0,l.iH)(!1),a=(0,l.iH)({width:0,height:0});let e;const o=(0,u.debounce)((()=>{e&&e()}),300,{maxWait:400}),p=new ResizeObserver((()=>{a.value.height=n.value.clientHeight,a.value.width=n.value.clientWidth,s.value&&(e=t,o()),s.value=!0}));return i((()=>{n.value?p.observe(n.value):console.error("元素未挂载")})),a.value};var d=s(577),h=s.n(d);const k=function(n,t){const{onExitFull:s,onFull:a}=t||{},e={isFullscreen:(o=h(),o.isEnabled?(0,l.iH)(h().isFullscreen):(0,l.iH)(!1)),setFull:()=>{},exitFull:()=>{},toggleFull:()=>{}};var o;return i((()=>{const t=function(n,t){if(!n)return;let s;return(0,l.dq)(n)&&(s=(0,l.SU)(n)),"function"==typeof n&&(s=n()),s||console.error("target is not available!"),s}(n);t&&(e.setFull=()=>{h().isEnabled&&!e.isFullscreen.value&&(e.isFullscreen.value=!0,h().request(t),a&&a())},e.exitFull=()=>{h().isEnabled&&e.isFullscreen.value&&(e.isFullscreen.value=!1,h().exit(),s&&s())},e.toggleFull=()=>{h().isEnabled&&h().toggle(t).then((()=>{e.isFullscreen.value=!e.isFullscreen.value,e.isFullscreen.value?a&&a():s&&s()}))})})),(0,l.BK)(e)};s(3162)}}]);